<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LocalGen AI</title>
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <div id="app-container">
      <!-- New main container for sidebar layout -->
      <div id="history-sidebar">
        <div class="history-header">
          <h2>History</h2>
          <button id="delete-history-button" title="Delete all history">
            üóëÔ∏è
          </button>
          <!-- Delete all button -->
        </div>
        <div id="history-list"></div>
        <!-- Changed from history-grid to history-list -->
      </div>
      <div id="app">
        <h1>LocalGen AI Image Generator</h1>
        <div id="image-display">
          <p>Generated image will appear here.</p>
        </div>
        <div
          id="progress-container"
          style="
            display: none;
            width: 100%;
            margin-top: 10px;
            background-color: #333;
            border-radius: 4px;
            overflow: hidden;
          "
        >
          <div
            id="progress-bar"
            style="
              width: 0%;
              height: 20px;
              background-color: #4caf50;
              transition: width 0.1s ease;
            "
          ></div>
          <div
            id="progress-text"
            style="
              text-align: center;
              color: #fff;
              font-size: 12px;
              margin-top: -18px;
              position: relative;
            "
          >
            0%
          </div>
        </div>
        <div class="controls-container">
          <!-- New container for aspect ratio and buttons -->
          <div class="aspect-ratio-inputs">
            <input
              type="number"
              id="width-input"
              placeholder="Width (e.g., 512)"
              value="512"
            />
            <input
              type="number"
              id="height-input"
              placeholder="Height (e.g., 512)"
              value="512"
            />
          </div>
          <div class="file-input-container">
            <label for="init-image">Initial Image (Optional)</label>
            <input type="file" id="init-image" accept="image/*" />
            <button id="clear-image-button" style="display: none">Clear</button>
            <!-- New Clear button -->
          </div>
          <div class="button-container">
            <button id="generate-button" class="icon-button">‚û§</button>
            <button
              id="cancel-button"
              class="icon-button"
              style="display: none; background-color: #d32f2f"
            >
              Cancel
            </button>
            <button
              id="download-button"
              class="icon-button"
              style="display: none"
            >
              ‚¨á
            </button>
            <!-- Changed to download icon -->
          </div>
        </div>
        <details style="margin-bottom: 15px; color: #bbb; width: 100%">
          <summary
            style="cursor: pointer; margin-bottom: 10px; user-select: none"
          >
            Advanced Settings
          </summary>
          <div
            style="
              display: flex;
              flex-direction: column;
              gap: 10px;
              padding-left: 10px;
              border-left: 2px solid #444;
            "
          >
            <!-- Negative Prompt -->
            <div style="display: flex; flex-direction: column">
              <label
                for="negative-prompt"
                style="font-size: 14px; margin-bottom: 5px"
                >Negative Prompt:</label
              >
              <textarea
                id="negative-prompt"
                placeholder="low quality, ugly, blurry..."
                rows="2"
                style="
                  width: 100%;
                  padding: 8px;
                  background: #3a3a3a;
                  border: 1px solid #555;
                  color: #f0f0f0;
                  border-radius: 4px;
                  resize: vertical;
                  box-sizing: border-box;
                "
              ></textarea>
            </div>
            <!-- Guidance Scale -->
            <div style="display: flex; align-items: center; gap: 10px">
              <label
                for="guidance-scale"
                style="font-size: 14px; min-width: 120px"
                >Guidance Scale:</label
              >
              <input
                type="range"
                id="guidance-scale"
                min="1"
                max="20"
                step="0.5"
                value="7.5"
                style="flex-grow: 1"
              />
              <span
                id="guidance-scale-value"
                style="width: 30px; text-align: right"
                >7.5</span
              >
            </div>
            <!-- Inference Steps -->
            <div style="display: flex; align-items: center; gap: 10px">
              <label
                for="inference-steps"
                style="font-size: 14px; min-width: 120px"
                >Inference Steps:</label
              >
              <input
                type="range"
                id="inference-steps"
                min="10"
                max="100"
                step="1"
                value="30"
                style="flex-grow: 1"
              />
              <span
                id="inference-steps-value"
                style="width: 30px; text-align: right"
                >30</span
              >
            </div>
          </div>
        </details>
        <textarea
          id="prompt-input"
          placeholder="Enter your prompt here..."
          rows="4"
        ></textarea>
        <!-- Moved here -->
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
